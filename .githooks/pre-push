#!/bin/bash

# Pre-push hook to ensure the code builds before pushing
# This prevents broken code from being pushed to the repository

echo "ğŸ”¨ Running pre-push build check..."
echo ""

# Run the build with production environment
if NODE_ENV=production bun run build; then
    echo ""
    echo "âœ… Build successful! Proceeding with push..."
    exit 0
else
    echo ""
    echo "âŒ Build failed! Push aborted."
    echo "ğŸ’¡ Fix the build errors above before pushing."
    echo "ğŸ’¡ To skip this check (not recommended), use: git push --no-verify"
    exit 1
fi

